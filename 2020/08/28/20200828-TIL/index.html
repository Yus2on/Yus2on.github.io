<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>20200828-TIL - Hexo</title><meta description="TILToday I Learned(SingletonPattern)"><meta property="og:type" content="blog"><meta property="og:title" content="20200828-TIL"><meta property="og:url" content="http://yoursite.com/2020/08/28/20200828-TIL/"><meta property="og:site_name" content="Hexo"><meta property="og:description" content="TILToday I Learned(SingletonPattern)"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://yoursite.com/img/og_image.png"><meta property="article:published_time" content="2020-08-28T09:07:04.000Z"><meta property="article:modified_time" content="2020-09-07T16:23:12.687Z"><meta property="article:author" content="John Doe"><meta property="article:tag" content="java"><meta property="article:tag" content="TIL"><meta property="article:tag" content="SingletonPattern"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com/2020/08/28/20200828-TIL/"},"headline":"Hexo","image":["http://yoursite.com/img/og_image.png"],"datePublished":"2020-08-28T09:07:04.000Z","dateModified":"2020-09-07T16:23:12.687Z","author":{"@type":"Person","name":"John Doe"},"description":"TILToday I Learned(SingletonPattern)"}</script><link rel="canonical" href="http://yoursite.com/2020/08/28/20200828-TIL/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.1.1"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-08-28T09:07:04.000Z" title="2020-08-28T09:07:04.000Z">2020-08-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-09-07T16:23:12.687Z" title="2020-09-07T16:23:12.687Z">2020-09-08</time></span><span class="level-item"><a class="link-muted" href="/categories/java/">Java</a><span> / </span><a class="link-muted" href="/categories/java/til/">TIL</a></span><span class="level-item">7 minutes read (About 1065 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">20200828-TIL</h1><div class="content"><h1 id="TIL"><a href="#TIL" class="headerlink" title="TIL"></a>TIL</h1><h2 id="Today-I-Learned-SingletonPattern"><a href="#Today-I-Learned-SingletonPattern" class="headerlink" title="Today I Learned(SingletonPattern)"></a>Today I Learned(SingletonPattern)</h2><a id="more"></a>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 싱글톤 패턴 구현하기</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 단 하나의 인스턴스만 존재할 수 있는 클래스 SingletonPattern을 구현하시오.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 생성자를 외부에서 직접 호출할 수 없다.</span></span><br><span class="line"><span class="comment"> * 정적 메소드인 getInstance() 메소드를 이용해 객체를 받아온다.</span></span><br><span class="line"><span class="comment"> * 받아온 객체는 항상 같은 객체를 참조해야 한다.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonPattern</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> SingletonPattern instace = <span class="keyword">new</span> SingletonPattern();</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="title">SingletonPattern</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">  <span class="comment">// 기본생성자를 private 를 사용하여 생성을 불가능하게 하고 getInstance를 통해서만 생성이 가능</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SingletonPattern <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// getInstance는 내부적으로 생성되지 않았다면 생성 필요함!!</span></span><br><span class="line">    <span class="comment">// 기존에 생성된 값이 존재한다면 생성된 인스턴스를 리턴하는 형태로 프로그램 전반에 걸쳐 하나의 인스턴스만 유지함.</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 인스턴스를 제공하는 메서드와 인스턴스 변수 모두 Static으로 선언된 정적 변수 및 메서드</span></span><br><span class="line">    <span class="comment">// 기본 생성자를 통해 생성할 수 없는데 외부에서 인스턴스에 접근하려면 클래스 변수와 메서드에 접근을 허용해야하기 때문에 정적타입(static)으로 선언함</span></span><br><span class="line">    <span class="keyword">return</span> instace;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SingletonPatternTest</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//SingletonPattern instance = new SingletonPattern(); // should fail</span></span><br><span class="line">    SingletonPattern instanceOne = SingletonPattern.getInstance();</span><br><span class="line">    SingletonPattern instanceTwo = SingletonPattern.getInstance();</span><br><span class="line"></span><br><span class="line">    System.out.println(instanceOne == instanceTwo); <span class="comment">// should be true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h1 id="싱글턴-Singleton-이란"><a href="#싱글턴-Singleton-이란" class="headerlink" title="싱글턴(Singleton) 이란 ?"></a><strong>싱글턴(Singleton) 이란 ?</strong></h1><h2 id="정의"><a href="#정의" class="headerlink" title="정의"></a>정의</h2><blockquote>
<p>소프트웨어 디자인 패턴에서 싱글턴 패턴(Singleton pattern)을 따르는 클래스는, 생성자가 여러 차례 호출되더라도 실제로 생성되는 객체는 하나이고 최초 생성 이후에 호출된 생성자는 최초의 생성자가 생성한 객체를 리턴한다. 이와 같은 디자인 유형을 싱글턴 패턴이라고 한다. 주로 공통된 객체를 여러개 생성해서 사용하는 DBCP(DataBase Connection Pool)와 같은 상황에서 많이 사용된다.</p>
</blockquote>
<p>위키피디아의 정의와 같이 싱글턴 패턴은 하나의 객체만을 생성해 이후에 호출된 곳에서는 생성된 객체를 반환하여 프로그램 전반에서 하나의 인스턴스만을 사용하게 하는 패턴.싱글턴 패턴(Singleton Pattern)은 <code>인스턴스가 오직 1개만 생성</code>되야 하는 경우에 사용되는 패턴이다.</p>
<ul>
<li>싱글턴 패턴을 사용해 하나의 인스턴스를 메모리에 등록해서 여러 스러드가 동시에 해당 인스턴스를 공유하여 사용하게끔 할 수 있음 (요청이 많은 곳에서 사용시 효율 상승)</li>
<li>싱글턴을 만들때 <code>동시성(Concurrency)</code> 문제를 고려해서 싱글턴 설계 필요</li>
</ul>
<h1 id="자바의-싱글턴-패턴-Sigleton-Pattern-in-Java"><a href="#자바의-싱글턴-패턴-Sigleton-Pattern-in-Java" class="headerlink" title="자바의 싱글턴 패턴(Sigleton Pattern in Java)"></a><strong>자바의 싱글턴 패턴(Sigleton Pattern in Java)</strong></h1><p>싱글턴 패턴의 공통적인 특징은 <code>private constructor(프라이빗 생성자)</code> 를 가진다는 것과, <code>static method</code> 를 사용한다는 점.</p>
<h2 id="싱글톤-패턴을-쓰는-이유"><a href="#싱글톤-패턴을-쓰는-이유" class="headerlink" title="싱글톤 패턴을 쓰는 이유"></a><strong>싱글톤 패턴을 쓰는 이유</strong></h2><ol>
<li><p>고정된 메모리 영역을 얻으면서 한번의 new로 인스턴스를 사용하기 때문에 메모리 낭비 방지.</p>
</li>
<li><p>싱글톤으로 만들어진 클래스의 인스턴스는 전역 인스턴스 =&gt; 다른 클래스의 인스턴스가 데이터 공유하기 쉬움</p>
<ul>
<li>DBCP(DataBase Connection Pool)처럼 공통된 객체를 여러개 생성해서 사용해야하는 상황에서 많이 사용.<br>(쓰레드풀, 캐시, 대화상자, 사용자 설정, 레지스트리 설정, 로그 기록 객체등)</li>
</ul>
</li>
<li><p>인스턴스가 절대적으로 한개만 존재하는 것을 보증하고 싶을 경우 사용.</p>
</li>
<li><p>두 번째 이용시부터는 객체 로딩 시간이 현저하게 줄어 성능이 좋아지는 장점!</p>
</li>
</ol>
<h2 id="싱글톤-패턴의-문제점"><a href="#싱글톤-패턴의-문제점" class="headerlink" title="싱글톤 패턴의 문제점"></a><strong>싱글톤 패턴의 문제점</strong></h2><p>싱글톤 인스턴스가 너무 많은 일을 하거나 많은 데이터를 공유시킬 경우 다른 클래스의 인스턴스들 간에 결합도가 높아져 “개방-폐쇄 원칙” 을 위배하게 된다. (=객체 지향 설계 원칙에 어긋남)</p>
<ul>
<li>유지보수가 까다로워짐</li>
<li>멀티 스레드 환경에서 동기화 처리 해야함</li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>20200828-TIL</p><p><a href="http://yoursite.com/2020/08/28/20200828-TIL/">http://yoursite.com/2020/08/28/20200828-TIL/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>John Doe</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2020-08-28</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2020-09-08</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags size-small mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/java/">java</a><a class="link-muted mr-2" rel="tag" href="/tags/til/">TIL</a><a class="link-muted mr-2" rel="tag" href="/tags/singletonpattern/">SingletonPattern</a></div><!--!--></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/09/07/Oh-My-Zsh-upgrade-unable-to-upgrade/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Oh My Zsh upgrade : unable to upgrade</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/08/28/20200827-TIL/"><span class="level-item">20200827-TIL</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Yuseon"></figure><p class="title is-size-4 is-block line-height-inherit">Yuseon</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Seoul, Korea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">13</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">4</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">27</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Yus2on" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Yus2on"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://yus2on.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">yus2on.github.io</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/hexo/"><span class="level-start"><span class="level-item">Hexo</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/java/til/"><span class="level-start"><span class="level-item">TIL</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/setting/"><span class="level-start"><span class="level-item">Setting</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a><p class="size-small"><span>&copy; 2020 John Doe</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>